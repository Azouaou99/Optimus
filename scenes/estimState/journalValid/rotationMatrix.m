clear 
close all
clc

P=[50.3532 219.165 -3452.3 251620; -3388.13 647.057 -24.5691 271587; 0.118096 0.993 -0.00217632 474.452];

% PR=eye(3)*P;

% B=ones(size(A,1),size(A,2));

%% ROTATE POINTS
% for i=1:size(B,1)
% B(i,:)=0.001*A(i,:)*roty(-pi/2);
% end
Ry=roty(-pi/2);
Ry(4,4)=1;
K=[3.45188951e+03 -1.28160833e-04  2.31090620e+02;
0.00000000e+00  3.44091938e+03  2.42456422e+02;
0.00000000e+00  0.00000000e+00  1.00000020e+00
];

P=[50.3532 219.165 -3452.3 251620;
-3388.13 647.057 -24.5691 271587;
0.118096 0.993 -0.00217632 474.452
];

%% ROTATE and SCALE PROJECTION MATRIX TO ALIGN WITH SOFA X-AXIS
Ps=inv(K)*P*Ry;
Ps(:,4)=0.001*Ps(:,4);

Prot = K*Ps;

